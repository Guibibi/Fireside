DATABASE_URL=postgres://yankcord:password@localhost:5432/yankcord
JWT_SECRET=change-me-to-a-random-secret
JWT_EXPIRATION_HOURS=24

# For Docker production deployment, start from server/.env.docker.example instead.

# API host/port
HOST=0.0.0.0
PORT=3000

# CORS allowlists (comma-separated; use * only if you accept any origin/method/header)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:4173,http://127.0.0.1:4173
CORS_ALLOWED_METHODS=GET,POST,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=authorization,content-type

# mediasoup worker count
MEDIA_WORKER_COUNT=2

# WebRTC network configuration
WEBRTC_LISTEN_IP=0.0.0.0
# Local LAN testing: set to your machine LAN IP (e.g. 192.168.1.10)
# Public VM: set to VM public IP or DNS-resolved public address
WEBRTC_ANNOUNCED_IP=127.0.0.1

# Native RTP ingest target for desktop native screen sender
# For same-host local dev, keep listen on loopback.
NATIVE_RTP_LISTEN_IP=127.0.0.1
# For remote desktop clients, set to a publicly reachable IP.
NATIVE_RTP_ANNOUNCED_IP=127.0.0.1

# Upload/media storage pipeline
STORAGE_BACKEND=local
STORAGE_LOCAL_ROOT=data/media
MEDIA_MAX_UPLOAD_BYTES=10485760
MEDIA_CLEANUP_INTERVAL_SECONDS=900
MEDIA_FAILED_RETENTION_HOURS=24

# S3-compatible storage scaffold (not fully implemented yet)
S3_ENDPOINT=
S3_REGION=
S3_BUCKET=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_FORCE_PATH_STYLE=false

# Tenor GIF search integration (optional)
TENOR_API_KEY=

RUST_LOG=yankcord_server=debug,tower_http=debug
